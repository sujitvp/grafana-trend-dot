<div>
  <div class="dot" ng-repeat="dot in ctrl.dots" ng-mouseenter="dot.hover=true" ng-mouseleave="dot.hover=false">
    <div  ng-if="ctrl.linkTest()">
        <div class="dot-circle" ng-style="ctrl.styleFor(dot)"/>
        <div class="dot-tooltip" ng-show="dot.hover" style="white-space:nowrap">
          {{ dot.name }} <br> {{ctrl.format(dot)}}
        </div>
    </div>
    <div ng-if="!ctrl.linkTest()">
         <a ng-href="{{ctrl.linkFor(dot)}}">
             <div class="dot-circle" ng-style="ctrl.styleFor(dot)"/>
         </a>
         <div class="dot-tooltip" ng-show="dot.hover" style="white-space:nowrap">
           {{ dot.name }} <br> {{ctrl.format(dot)}}
         </div>
     </div>
  </div>
</div>
